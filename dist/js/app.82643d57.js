(function(e){function t(t){for(var s,n,d=t[0],i=t[1],c=t[2],l=0,m=[];l<d.length;l++)n=d[l],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&m.push(a[n][0]),a[n]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],s=!0,d=1;d<r.length;d++){var i=r[d];0!==a[i]&&(s=!1)}s&&(o.splice(t--,1),e=n(n.s=r[0]))}return e}var s={},a={app:0},o=[];function n(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=s,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],i=d.push.bind(d);d.push=t,d=d.slice();for(var c=0;c<d.length;c++)t(d[c]);var u=i;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("img",{attrs:{alt:"Vue logo",src:r("cf05")}}),s("VueAddressForm",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},o=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ValidationObserver",{ref:"zipCodeAddressForm",attrs:{tag:"form"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.sendForm()}}},[r("vue-element-loading",{attrs:{active:e.loadZipCode,spinner:"spinner",color:"#6666FF"}}),e.showAddressName?r("div",{staticClass:"m-2 row"},[r("div",{staticClass:"col"},[r("label",[e._v(" "+e._s(e.trans("common_address.location_name"))+"*")]),r("ValidationProvider",{attrs:{rules:"required",name:e.trans("common_address.location_name")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.location_name,expression:"addressForm.location_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.location_name")},domProps:{value:e.addressForm.location_name},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"location_name",t.target.value)}}}),s[0]?r("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}],null,!1,3923256838)})],1)]):e._e(),r("div",{staticClass:"m-2 row"},[r("div",{staticClass:"col"},[r("label",[e._v(" "+e._s(e.trans("common_address.zip_code"))+"*")]),r("ValidationProvider",{directives:[{name:"mask",rawName:"v-mask",value:["#####-###"],expression:"['#####-###']"}],attrs:{rules:{required:!0,regex:/[0-9]{5}-[\d]{3}/},name:e.trans("common_address.zip_code")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.zip_code,expression:"addressForm.zip_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.zip_code")},domProps:{value:e.addressForm.zip_code},on:{blur:e.getZipCodeInfo,input:function(t){t.target.composing||e.$set(e.addressForm,"zip_code",t.target.value)}}}),s[0]?r("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}])})],1),r("div",{staticClass:"col"},[r("label",[e._v(" "+e._s(e.trans("common_address.street"))+"*")]),r("ValidationProvider",{attrs:{rules:"required",name:e.trans("common_address.street")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.street,expression:"addressForm.street"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.street")},domProps:{value:e.addressForm.street},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"street",t.target.value)}}}),s[0]?r("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}])})],1)]),r("div",{staticClass:"m-2 row"},[r("div",{staticClass:"col"},[r("label",[e._v(" "+e._s(e.trans("common_address.city"))+"*")]),r("ValidationProvider",{attrs:{rules:"required",name:e.trans("common_address.city")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.city,expression:"addressForm.city"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.city")},domProps:{value:e.addressForm.city},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"city",t.target.value)}}}),s[0]?r("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}])})],1),r("div",{staticClass:"col"},[r("label",[e._v(" "+e._s(e.trans("common_address.district"))+"*")]),r("ValidationProvider",{attrs:{rules:"required",name:e.trans("common_address.district")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.district,expression:"addressForm.district"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.district")},domProps:{value:e.addressForm.district},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"district",t.target.value)}}}),s[0]?r("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}])})],1)]),r("div",{staticClass:"m-2 row"},[r("div",{staticClass:"col"},[r("label",[e._v(" "+e._s(e.trans("common_address.state"))+"*")]),r("ValidationProvider",{attrs:{rules:"required",name:e.trans("common_address.state")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.state,expression:"addressForm.state"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.state")},domProps:{value:e.addressForm.state},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"state",t.target.value)}}}),s[0]?r("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}])})],1),r("div",{staticClass:"col"},[r("label",[e._v(" "+e._s(e.trans("common_address.country"))+"*")]),r("ValidationProvider",{attrs:{rules:"required",name:e.trans("common_address.country")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.country,expression:"addressForm.country"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.country")},domProps:{value:e.addressForm.country},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"country",t.target.value)}}}),s[0]?r("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}])})],1)]),r("div",{staticClass:"m-2 row"},[r("div",{staticClass:"col"},[r("label",[e._v(" "+e._s(e.trans("common_address.number"))+"*")]),r("ValidationProvider",{attrs:{rules:"required",name:e.trans("common_address.number")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[r("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.number,expression:"addressForm.number"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.number")},domProps:{value:e.addressForm.number},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"number",t.target.value)}}}),s[0]?r("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}])})],1),r("div",{staticClass:"col"},[r("label",[e._v(" "+e._s(e.trans("common_address.complement")))]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.complement,expression:"addressForm.complement"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.complement")},domProps:{value:e.addressForm.complement},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"complement",t.target.value)}}})])]),e.showFormButton?r("div",{staticClass:"float-right"},[r("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[r("i",{staticClass:"mdi mdi-plus"}),e._v(" "+e._s(e.trans("common_address.add_new"))+" ")])]):e._e()],1)},d=[],i=r("5530"),c=r("1da1"),u=(r("99af"),r("96cf"),r("2ef0")),l=r("bc3a"),m=r.n(l),p=r("7bb1"),f=r("6ad0"),v=r.n(f),_=r("4c93"),b=r("2ef0"),g=function(e){return b.get(window.lang,e,e)},F={configValidate:function(){Object(p["c"])("required",Object(i["a"])(Object(i["a"])({},_["c"]),{},{message:g("api.required")})),Object(p["c"])("email",Object(i["a"])(Object(i["a"])({},_["a"]),{},{message:g("api.invalid_email")})),Object(p["c"])("regex",Object(i["a"])(Object(i["a"])({},_["b"]),{},{message:g("api.invalid_regex")}))}},y=r("2ef0");F.configValidate();var h={components:{ValidationObserver:p["a"],ValidationProvider:p["b"],VueElementLoading:v.a},name:"VueAddressForm",props:{defaultAddress:{type:Object,default:function(){return{}}},showAddressName:{type:Boolean,default:function(){return!0}},showFormButton:{type:Boolean,default:function(){return!0}},autocompleteParams:{type:Object,required:!0},autocompleteUrl:{type:String,required:!0},geocodeUrl:{type:String,required:!0},zipCodeUrl:{type:String,required:!0}},watch:{addressForm:{handler:function(e){this.$emit("input",e)},deep:!0}},data:function(){return{addressForm:{zip_code:"",street:"",city:"",country:this.getCountry(),district:"",state:"",latitude:"",longitude:"",location_name:"",number:"",complement:"",full_address:""},loadZipCode:!1}},mounted:function(){this.defaultAddress&&(this.addressForm=this.defaultAddress),this.addressForm.country=this.getCountry()},methods:{trans:function(e){return y.get(window.lang,e,e)},getCountry:function(){switch(window.settings.locale){case"pt-br":return"Brasil";case"en":return"United States";case"es":return"España";default:return""}},callAutocompleteApi:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var s,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,m.a.get(t.autocompleteUrl,{params:Object(i["a"])(Object(i["a"])({},t.autocompleteParams),{},{place:e})});case 2:if(s=r.sent,a=s.data,!(a.success&&a.data.length>0)){r.next=14;break}if(o=a.data[0],null==o.place_id){r.next=10;break}return r.next=9,t.callGeocodeApi(o.address);case 9:o=r.sent;case 10:t.addressForm.latitude=o.latitude,t.addressForm.longitude=o.longitude,r.next=15;break;case 14:t.$toasted.show(t.trans("common_address.zip_code_not_found"),{theme:"bubble",type:"warning",position:"bottom-center",duration:5e3});case 15:case"end":return r.stop()}}),r)})))()},callGeocodeApi:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,m.a.get(t.geocodeUrl,{params:Object(i["a"])(Object(i["a"])({},t.autocompleteParams),{},{address:e})});case 2:if(s=r.sent,a=s.data,!a.success){r.next=6;break}return r.abrupt("return",a.data);case 6:return r.abrupt("return",!1);case 7:case"end":return r.stop()}}),r)})))()},handleZipCodeInput:Object(u["debounce"])(Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getZipCodeInfo();case 2:case"end":return e.stop()}}),e,this)}))),400),getZipCodeInfo:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.addressForm.zip_code.length>6)){t.next=16;break}return e.loadZipCode=!0,t.prev=2,t.next=5,m.a.post(e.zipCodeUrl,{zipcode:e.addressForm.zip_code});case 5:r=t.sent,e.loadZipCode=!1,200===r.status&&r.data.success&&(s=r.data,e.addressForm.street=s.street,e.addressForm.city=s.city,e.addressForm.district=s.district,e.addressForm.state=s.state,e.addressForm.latitude=s.latitude,e.addressForm.longitude=s.longitude),t.next=16;break;case 10:t.prev=10,t.t0=t["catch"](2),e.loadZipCode=!1,e.addressForm.latitude="",e.addressForm.longitude="",e.$toasted.show(e.trans("common_address.zip_code_not_found"),{theme:"bubble",type:"warning",position:"bottom-center",duration:5e3});case 16:case"end":return t.stop()}}),t,null,[[2,10]])})))()},resetForm:function(){this.addressForm={zip_code:"",street:"",city:"",country:"",district:"",state:"",latitude:"",longitude:"",location_name:"",number:"",complement:"",full_address:""}},validateForm:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.zipCodeAddressForm.validate();case 2:if(r=t.sent,!(r&&e.addressForm.latitude&&e.addressForm.longitude)){t.next=5;break}return t.abrupt("return",!0);case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}}),t)})))()},sendForm:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.validateForm();case 2:if(r=t.sent,r){t.next=5;break}return t.abrupt("return");case 5:if(e.addressForm.full_address="".concat(e.addressForm.street," ").concat(e.addressForm.number,", ").concat(e.addressForm.district," - ").concat(e.addressForm.state,", ").concat(e.addressForm.country),""!==e.addressForm.latitude&&""!==e.addressForm.longitude){t.next=10;break}return e.loadZipCode=!0,t.next=10,e.callAutocompleteApi(e.addressForm.full_address);case 10:e.loadZipCode=!1,e.addressForm.latitude&&e.addressForm.longitude?(e.$emit("on-send-form",e.addressForm),e.resetForm()):e.$toasted.show(e.trans("common_address.zip_code_not_found"),{theme:"bubble",type:"warning",position:"bottom-center",duration:5e3});case 12:case"end":return t.stop()}}),t)})))()}}},w=h,x=r("2877"),C=Object(x["a"])(w,n,d,!1,null,null,null),O=C.exports,j={name:"App",components:{VueAddressForm:O}},P=j,k=(r("034f"),Object(x["a"])(P,a,o,!1,null,null,null)),S=k.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(S)}}).$mount("#app")},"85ec":function(e,t,r){},cf05:function(e,t,r){e.exports=r.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.82643d57.js.map