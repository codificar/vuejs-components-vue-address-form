(function(e){function t(t){for(var r,d,n=t[0],i=t[1],l=t[2],m=0,u=[];m<n.length;m++)d=n[m],Object.prototype.hasOwnProperty.call(o,d)&&o[d]&&u.push(o[d][0]),o[d]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);c&&c(t);while(u.length)u.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],r=!0,n=1;n<s.length;n++){var i=s[n];0!==o[i]&&(r=!1)}r&&(a.splice(t--,1),e=d(d.s=s[0]))}return e}var r={},o={app:0},a=[];function d(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,d),s.l=!0,s.exports}d.m=e,d.c=r,d.d=function(e,t,s){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(d.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)d.d(s,r,function(t){return e[t]}.bind(null,r));return s},d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],i=n.push.bind(n);n.push=t,n=n.slice();for(var l=0;l<n.length;l++)t(n[l]);var c=i;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},3156:function(e,t,s){"use strict";s("deef")},"56d7":function(e,t,s){"use strict";s.r(t);var r=s("2b0e"),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("img",{attrs:{alt:"Vue logo",src:s("cf05")}}),t("VueAddressForm",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},a=[],d=function(){var e=this,t=e._self._c;return t("ValidationObserver",{ref:"zipCodeAddressForm",attrs:{tag:"form"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.sendForm()}}},[t("vue-element-loading",{attrs:{active:e.loadZipCode,spinner:"spinner",color:"#6666FF"}}),e.showAddressName?t("div",{staticClass:"m-2 row"},[t("div",{staticClass:"col"},[t("label",[e._v(" "+e._s(e.trans("common_address.location_name"))+"*")]),t("ValidationProvider",{attrs:{rules:"required",name:e.trans("common_address.location_name")},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.location_name,expression:"addressForm.location_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.location_name")},domProps:{value:e.addressForm.location_name},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"location_name",t.target.value)}}}),s[0]?t("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}],null,!1,3923256838)})],1)]):e._e(),t("div",{staticClass:"m-2 row"},[t("div",{staticClass:"col"},[t("label",[e._v(" "+e._s(e.trans("common_address.zip_code"))+"*")]),t("ValidationProvider",{directives:[{name:"mask",rawName:"v-mask",value:[this.onMask?"#####-###":"false"],expression:"[this.onMask ? '#####-###' : 'false']"}],attrs:{rules:{required:!0,regex:this.onMask?/[0-9]{5}-[\d]{3}/:null},name:e.trans("common_address.zip_code")},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.zip_code,expression:"addressForm.zip_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.zip_code")},domProps:{value:e.addressForm.zip_code},on:{blur:e.getZipCodeInfo,input:function(t){t.target.composing||e.$set(e.addressForm,"zip_code",t.target.value)}}}),s[0]?t("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}])})],1),t("div",{staticClass:"col"},[t("label",[e._v(" "+e._s(e.trans("common_address.street"))+"*")]),t("ValidationProvider",{attrs:{rules:"required",name:e.trans("common_address.street")},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.street,expression:"addressForm.street"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.street")},domProps:{value:e.addressForm.street},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"street",t.target.value)}}}),s[0]?t("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}])})],1)]),t("div",{staticClass:"m-2 row"},[t("div",{staticClass:"col"},[t("label",[e._v(" "+e._s(e.trans("common_address.city"))+"*")]),t("ValidationProvider",{attrs:{rules:"required",name:e.trans("common_address.city")},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.city,expression:"addressForm.city"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.city")},domProps:{value:e.addressForm.city},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"city",t.target.value)}}}),s[0]?t("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}])})],1),t("div",{staticClass:"col"},[t("label",[e._v(" "+e._s(e.trans("common_address.district"))+"*")]),t("ValidationProvider",{attrs:{rules:"required",name:e.trans("common_address.district")},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.district,expression:"addressForm.district"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.district")},domProps:{value:e.addressForm.district},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"district",t.target.value)}}}),s[0]?t("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}])})],1)]),t("div",{staticClass:"m-2 row"},[t("div",{staticClass:"col"},[t("label",[e._v(" "+e._s(e.trans("common_address.state"))+"*")]),t("ValidationProvider",{attrs:{rules:"required",name:e.trans("common_address.state")},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.state,expression:"addressForm.state"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.state")},domProps:{value:e.addressForm.state},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"state",t.target.value)}}}),s[0]?t("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}])})],1),t("div",{staticClass:"col"},[t("label",[e._v(" "+e._s(e.trans("common_address.country"))+"*")]),t("ValidationProvider",{attrs:{rules:"required",name:e.trans("common_address.country")},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.country,expression:"addressForm.country"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.country")},domProps:{value:e.addressForm.country},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"country",t.target.value)}}}),s[0]?t("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}])})],1)]),t("div",{staticClass:"m-2 row"},[t("div",{staticClass:"col"},[t("label",[e._v(" "+e._s(e.trans("common_address.number"))+"*")]),t("ValidationProvider",{attrs:{rules:"required",name:e.trans("common_address.number")},scopedSlots:e._u([{key:"default",fn:function({errors:s}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.number,expression:"addressForm.number"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.number")},domProps:{value:e.addressForm.number},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"number",t.target.value)}}}),s[0]?t("div",{staticStyle:{color:"red"}},[e._v(" "+e._s(s[0])+" ")]):e._e()]}}])})],1),t("div",{staticClass:"col"},[t("label",[e._v(" "+e._s(e.trans("common_address.complement")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.addressForm.complement,expression:"addressForm.complement"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.trans("common_address.complement")},domProps:{value:e.addressForm.complement},on:{input:function(t){t.target.composing||e.$set(e.addressForm,"complement",t.target.value)}}})])]),e.showFormButton?t("div",{staticClass:"float-right"},[t("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t("i",{staticClass:"mdi mdi-plus"}),e._v(" "+e._s(e.trans("common_address.add_new"))+" ")])]):e._e()],1)},n=[],i=s("2ef0"),l=s("bc3a"),c=s.n(l),m=s("7bb1"),u=s("6ad0"),p=s.n(u),_=s("4c93");const v=s("2ef0");let f=e=>v.get(window.lang,e,e);var h={configValidate(){Object(m["c"])("required",{..._["c"],message:f("api.required")}),Object(m["c"])("email",{..._["a"],message:f("api.invalid_email")}),Object(m["c"])("regex",{..._["b"],message:f("api.invalid_regex")})}};const g=s("2ef0");h.configValidate();var y={components:{ValidationObserver:m["a"],ValidationProvider:m["b"],VueElementLoading:p.a},name:"VueAddressForm",props:{defaultAddress:{type:Object,default:()=>({})},showAddressName:{type:Boolean,default:()=>!0},showFormButton:{type:Boolean,default:()=>!0},autocompleteParams:{type:Object,required:!0},autocompleteUrl:{type:String,required:!0},geocodeUrl:{type:String,required:!0},zipCodeUrl:{type:String,required:!0},onMask:{type:Boolean,default:()=>!0}},watch:{addressForm:{handler:function(e){this.$emit("input",e)},deep:!0}},data(){return{addressForm:{zip_code:"",street:"",city:"",country:this.getCountry(),district:"",state:"",latitude:"",longitude:"",location_name:"",number:"",complement:"",full_address:""},loadZipCode:!1}},mounted(){console.log("teste",this.onMask),this.defaultAddress&&(this.addressForm=this.defaultAddress),this.addressForm.country=this.getCountry()},methods:{trans(e){return g.get(window.lang,e,e)},getCountry(){switch(window.settings.locale){case"pt-br":return"Brasil";case"en":return"United States";case"es":return"EspaÃ±a";default:return""}},async callAutocompleteApi(e){console.log("teste",this.onMask);const{data:t}=await c.a.get(this.autocompleteUrl,{params:{...this.autocompleteParams,place:e}});if(t.success&&t.data.length>0){let e=t.data[0];null!=e.place_id&&(e=await this.callGeocodeApi(e.address)),this.addressForm.latitude=e.latitude,this.addressForm.longitude=e.longitude}else this.$toasted.show(this.trans("common_address.zip_code_not_found"),{theme:"bubble",type:"warning",position:"bottom-center",duration:5e3})},async callGeocodeApi(e){const{data:t}=await c.a.get(this.geocodeUrl,{params:{...this.autocompleteParams,address:e}});return!!t.success&&t.data},handleZipCodeInput:Object(i["debounce"])((async function(){console.log(this.onMask),await this.getZipCodeInfo()}),400),async getZipCodeInfo(){if(this.addressForm.zip_code.length>6&&this.onMask){console.log(this.onMask),this.loadZipCode=!0;try{const e=await c.a.post(this.zipCodeUrl,{zipcode:this.addressForm.zip_code});if(this.loadZipCode=!1,200===e.status&&e.data.success){const t=e.data;this.addressForm.street=t.street,this.addressForm.city=t.city,this.addressForm.district=t.district,this.addressForm.state=t.state,this.addressForm.latitude=t.latitude,this.addressForm.longitude=t.longitude}}catch(e){this.loadZipCode=!1,this.addressForm.latitude="",this.addressForm.longitude="",this.$toasted.show(this.trans("common_address.zip_code_not_found"),{theme:"bubble",type:"warning",position:"bottom-center",duration:5e3})}}},resetForm(){this.addressForm={zip_code:"",street:"",city:"",country:"",district:"",state:"",latitude:"",longitude:"",location_name:"",number:"",complement:"",full_address:""}},async validateForm(){const e=await this.$refs.zipCodeAddressForm.validate();return!!(e&&this.addressForm.latitude&&this.addressForm.longitude)},async sendForm(){const e=await this.validateForm();e&&(this.addressForm.full_address=`${this.addressForm.street} ${this.addressForm.number}, ${this.addressForm.district} - ${this.addressForm.state}, ${this.addressForm.country}`,""!==this.addressForm.latitude&&""!==this.addressForm.longitude||(this.loadZipCode=!0,await this.callAutocompleteApi(this.addressForm.full_address)),this.loadZipCode=!1,this.addressForm.latitude&&this.addressForm.longitude?(this.$emit("on-send-form",this.addressForm),this.resetForm()):this.$toasted.show(this.trans("common_address.zip_code_not_found"),{theme:"bubble",type:"warning",position:"bottom-center",duration:5e3}))}}},F=y,b=s("2877"),w=Object(b["a"])(F,d,n,!1,null,null,null),C=w.exports,x={name:"App",components:{VueAddressForm:C}},P=x,S=(s("3156"),Object(b["a"])(P,o,a,!1,null,null,null)),k=S.exports;r["a"].config.productionTip=!1,new r["a"]({render:e=>e(k)}).$mount("#app")},cf05:function(e,t,s){e.exports=s.p+"img/logo.82b9c7a5.png"},deef:function(e,t,s){}});
//# sourceMappingURL=app.f10a6bfd.js.map